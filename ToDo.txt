ToDo for next release to openrepos:

ToDo in lines 255 + 256 + 258 + 1652 downwards

	{ index: 0, fieldID: "0", value: 0, header: "", footer: "", footnote: false, footnoteText: "", footnoteValue: 0 },
    { index: 1, fieldID: "3", value: 0, header: qsTr("Heartrate"), footer: qsTr("bpm"), footnote: true, footnoteText: qsTr("Bat.:"), footnoteValue: 0 },
    { index: 2, fieldID: "4", value: 0, header: qsTr("Heartrate") + "∅", footer: qsTr("bpm"),footnote: false, footnoteText: "", footnoteValue: 0 },
    { index: 3, fieldID: "1,2", value: 0, header: qsTr("Pace"), footer: qsTr("min/km"), footnote: false, footnoteText: "", footnoteValue: 0 },
    { index: 4, fieldID: "0", value: 0, header: qsTr("Pace") + "∅", footer: qsTr("min/km"), footnote: false, footnoteText: "", footnoteValue: 0 },
    { index: 5, fieldID: "0", value: 0, header: qsTr("Speed"), footer: qsTr("km/h"), footnote: false, footnoteText: "", footnoteValue: 0 },
    { index: 6, fieldID: "0", value: 0, header: qsTr("Speed") + "∅", footer: qsTr("km/h"), footnote: false, footnoteText: "", footnoteValue: 0 },
    { index: 7, fieldID: "5", value: 0, header: qsTr("Altitude"), footer: qsTr("m"), footnote: false, footnoteText: "", footnoteValue: 0 },
    { index: 8, fieldID: "6", value: 0, header: qsTr("Distance"), footer: qsTr("km"), footnote: false, footnoteText: "", footnoteValue: 0 }

	{ name: "running", labeltext: qsTr("Running"), icon: "../workouticons/running.png" },
    { name: "biking", labeltext: qsTr("Roadbike"), icon: "../workouticons/biking.png" },
    { name: "mountainBiking", labeltext: qsTr("Mountainbike"), icon: "../workouticons/mountainBiking.png" },
    { name: "walking", labeltext: qsTr("Walking"), icon: "../workouticons/walking.png" },
    { name: "inlineSkating", labeltext: qsTr("Inline skating"), icon: "../workouticons/rollerSkating.png" }


	"3,3,1,2,7,8|5,6,1,2,7,8|5,6,1,2,7,8|3,4,1,2,7,8|5,6,1,2,7,8"






function fncConvertSaveStringToArray(sSaveString, iWorkoutType, iWorkoutTypesCount)
{
    //"3,3,1,2,7,8|5,6,1,2,7,8|5,6,1,2,7,8|3,4,1,2,7,8|5,6,1,2,7,8"

    var arValueTypesByWorkout = sSaveString.split("|");

    if (arValueTypesByWorkout.length < iWorkoutTypesCount) //This is the amount of known workout types, currently 5
        return;

    //Pick the one for the selected workout
    var arValueTypes = arValueTypesByWorkout[iWorkoutType].split(",");

    if (arValueTypes.length !== 6)    //This is the amount of value fields on record page, currently 6
        return;

    //Go through value types
    for (var i = 0; i < arrayValueTypes.length; i++)
    {
        var sFieldIDString = "";

        //Go through value fields
        for (var j = 0; j < arValueTypes.length; j++)
        {
            if (parseInt(arValueTypes[j]) === i)
                sFieldIDString = sFieldIDString + (j + 1).toString() + ",";
        }

        //If the current value (i) was not found in the save string, set fieldID to 0
        //0 means that this value will not be shown anywhere on the record dialog
        if (sFieldIDString === "")
            sFieldIDString = "0";
        else
        {
            //kill the last ,
            sFieldIDString = sFieldIDString.substr(0, (sFieldIDString.length - 1));
        }

        //write that to the array
        arrayValueTypes[i].fieldID = sFieldIDString;
    }

    fncRefreshLookupArrayByFieldIDs();
}









- Die dynamischen Felder müssen umgebaut werden. Im Savestring sollen sechs werte auftauchen. Das sind die Felder. Vorteil ist, das dann doppel Belegungen möglich sind.
	Außerdem ist ein Vorteil, das die Anzahl der Felder sich wohl nicht ändern wird. Die Anzahl der Parameter aber schon!

- do not return if amount of arrays does not fit in RecordPageDisplay.js

- set release date to .changes file
- complete translation to german language		-> OK	
- set new version number to yaml and spec files	-> OK
- clean project and recompile



ToDo for second next releaseto openrepos:
- unlocalized texts on BT device page
1.) while working out, the map circle is not centered on the map
2.) add over/below average speed, average pace and average heart rate to record page
3.) GPS starts with app start. Make it start with recordpage.
4.) introduce configurable lock page (LCD mode, AMOLED mode)
5.) cyclic voice announcements	
	- every 0,5-10 km
	- maximum three parameters
	- distance, speed, pace, HR



ToDo on the long run (second next release):
- check if speedoverground in QGeoPositionInfo is eventually better then own speed calculation
- implement workout comparison. Compare current workout with virtual workout in the past
- AM/PM mode for recordpage
- support all workout types from meerun (is not possible because export function in meerun is broken for many workout types)
- rename workouts on mainpage
- introduce reward system:
	- fastest run 5/10/20/40 km
	- longest run (distance/time)
	- most workouts in a week/month
	- most distance in a week/month
	- most time in a week/month
	-  5km in under 30/25/20/15 mins
	- 10km in under 1h/55/50/48/45/40/35/30 mins
- view burned calories on mainpage and recordpage and detailspage
- bluetooth data logging function (writing to files does not work???)
- introduce female voice
- alert system:
	- vibration alert / sound alert
	- send vibration also to pebble via dbus call provided by rockpool (does not exist. Have to do this myself?)
	- make sound file configurable or changeable
- record page workover, add more data to view
		- current, minimum, maximum height (gps)
		- up/down travelled height
		- energy kcal
		- average speed/tempo -> OK
		- speed/tempo of last 100m/1km
		- top speed/tempo
		- average, minimum, maximum heart rate 
		- pause time
- implement autopause
- save pause time to gpx file. Look in Meerun gpx file where to save pause data.
- Style first page list view like in meerun (upper part of page should not scroll)
- enable night mode automatically. 
- view diagrams on the statistics page. See app "Rush Hour" which is on openrepos.
- make volume of audio messages adjustable
- Messagebox needs to be extended. If a page is locked to portrait mode, messagebox needs also be locked to this mode.
- check if bluetooth is active. If not, switch it on. (see file ActionDisableBluetooth.qml in app slumber-master, or rockpool.qml)
- support workouts without gps e.g. indoor activities
- choose metrics, km/miles
- new workout icons
- pebble integration (currently waiting for abranson: https://talk.maemo.org/showpost.php?p=1528627&postcount=634)
- use scout server as map tile provider (waiting for Jolla: https://talk.maemo.org/showpost.php?p=1528801&postcount=257)
- introduce lap function
- CRC check for Zephyr HxM data packets
- BLE heart rate devices support (currently waiting for kimmoli to bring this to OPX)


Bugs:
- sometimes there is a view problem on mainpage after a completed workout.
- if HRM is active and record page is left and then opened again, we get a BT error.
- after bt scan and finding new HRM device, not able to connect. First need to restart app.
- compiler issue, comparison between signed and unsigned
- write to log file is not working, strange no error or something...
- sometimes, maybe if app is left on cover view or even in background, screen on is not longer working





Completed:
- fix battery status for HR device on record page
- on recordpage: enable onRadiusChanged and onCenterChanged in mapcircle.
- support elevation as new datapoint
- store workout type to autosave, but maybe this is not needed.
- if autosave is there on start of app, ask user if to resume workout
- add heart rate average to record page
- test rena stuff for map updating (mapcircle)
- when HR device fails during workout, the 0bpm is added to average HR
- no HR when workout isn't started
- adjustable value fields for recordpage
- view credits on about page
- missing non localized texts
- implement autosave, see github issue #9
- new values for recordpage: elevation and heartrate avg
- test: check if HR is saved to autosave file.
- bug: go back from recordscreen to prerecord. Then switch off HR. Then proceed to recordscreen. HR is still active! -> bRecordDialogRequestHRM
- rework menu on recordpage
- bring HRM values to autosave file
- what is ConfirmClearDialog for? Maybe delete this thing...
- detailspage:
	- make heartrate invisible if there is no data
	- some workouts have no max speed
	- texts need general overhaul!
- workout icon is too small on prerecordpage
- make sorting of workouts from most recent to least recent on mainpage
- Workouts need to be sorted after date on MainPage
- implement add/remove threshold profiles
- put all icons and pictures in the img folder!
- make voice language selectable and save to settings
- BUG: MainPage values for workout total time does nor fit
- search for all "Rena" and replace
- Record page: replace menu items (stop, pause, continue, start) with buttons
- cover dialog needs complete workover
	- remove app name, add app icon
- names of workouts still not good. Workouts are not sorted properly due to this.
- Alerts/thresholds:
	- implement profiles
	- save one data string per profile, including profile name
- Thresholds profiles should be renameable!
- music is paused and resumed even when no music is played. Detect first if music is playing!
- Start button on recordpage is green if accuracy says "No position"
- save last display mode to settings
- last used threshold profile is not recalled
- strange things if there are no gpx files or there is no gpx folder
- mainpage needs a progressbar.
- pause music if audio message is played
- fix mapcircle on recordpage
- [W] unknown:167 - file:///usr/share/harbour-laufhelden/qml/pages/RecordPage.qml:167: TypeError: Cannot call method 'addCoordinate' of undefined
- if a workout is cancelled before it could start properly (bad GPS), the HRM is also disconnected and you have to wait 3 seconds.
	This is a bigger thing. Maybe disable button if GPS is not online? That would also solve the problem!
- if recordpage is left, HRM is disconnected. Disconnect only if workout ends!
- In PreRecordPage, disable HRM option if there is no HRM device address
- In RecordPage, disable HRM optiion if there is no HRM device address
- On recordpage: if the map is maximized, there is a forward jump enabled to prerecordpage. This is a bug!
- Set useragent for map and app settings file to beter values
- solved issue with backjumping to mainpage. Problem was, pagestack.currentpage gives null within Component.onCompleted. Don't use this anymore!!!
- mainpage list does not fit to height of page
- after a new workout is recorded it is not viewed on main page
- record page must keep screen on (configurable)
- speed indicator for record page
- filename:
	use the local date&time as well as workout
- name:
	use the textbox text from the savedialog.
	make a text presiction, bring local date&time as well as workout to the text box on start dialog
- description:
	use the textbox text from the savedialog.
	Make no prediction and leave text box empty on start dialog.
- compatibility with new HRM belt
